# TCP RST Flag 返回的场景

## 前言
最近遇到一个客户，他在使用我们SDK的时候，周期性的遇到EOF的错误，客户抓包猜测是我们服务端的问题。我们Review了一下抓包的内容，发现用户的描述和抓包的内容不符合预期。

因此我们整理一下Client收到RST Flag的场景，以及几大主流HttpClient的实现和在不同场景下的处理方式。

### TCP Option 基本介绍

```
* F : FIN - 结束; 结束会话
* S : SYN - 同步; 表示开始会话请求
* R : RST - 复位;中断一个连接
* P : PUSH - 推送; 数据包立即发送
* A : ACK - 应答
* U : URG - 紧急
* E : ECE - 显式拥塞提醒回应
* W : CWR - 拥塞窗口减少
```

### 1. 正常的连接关闭，比如curl一下一个服务的地址,服务端口是11235

```
tcpdump tcp port 11235 and host 127.0.0.1
```
